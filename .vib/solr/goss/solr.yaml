# Copyright Broadcom, Inc. All Rights Reserved.
# SPDX-License-Identifier: APACHE-2.0

file:
  # Check file replacements in binary scripts
  /opt/bitmoa/solr/bin/solr.in.sh:
    exists: true
    filetype: file
    contents:
      - "SOLR_JAVA_HOME=/opt/bitmoa/java"
      - "SOLR_PID_DIR=/opt/bitmoa/solr/tmp"
      - "SOLR_LOGS_DIR=/opt/bitmoa/solr/logs"
command:
  check-app-version:
    exec: JAVA_HOME=/opt/bitmoa/solr/java /opt/bitmoa/solr/bin/solr version
    exit-status: 0
    stdout:
    - "{{ .Env.APP_VERSION }}"
group:
  solr:
    exists: true
user:
  solr:
    exists: true
