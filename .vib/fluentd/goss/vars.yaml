binaries:
  - fluentd
  - ruby
directories:
  - mode: "0775"
    paths:
      - /opt/bitmoa/fluentd/gems
      - /opt/bitmoa/fluentd/specifications
      - /opt/bitmoa/fluentd/cache
      - /opt/bitmoa/fluentd/doc
      - /opt/bitmoa/fluentd/conf
      - /opt/bitmoa/fluentd/logs
      - /opt/bitmoa/fluentd/plugins
modules:
  gems:
    - fluent-plugin-concat
    - fluent-plugin-detect-exceptions
    - fluent-plugin-elasticsearch
    - fluent-plugin-grafana-loki
    - fluent-plugin-kafka
    - fluent-plugin-kubernetes_metadata_filter
    - fluent-plugin-multi-format-parser
    - fluent-plugin-prometheus
    - fluent-plugin-rewrite-tag-filter
    - fluent-plugin-s3
    - fluent-plugin-systemd
    - fluent-plugin-record-modifier
    - oj
    - json
    - fluentd
    - activesupport
    - elasticsearch-xpack
sed_in_place:
  exclude_paths:
    # Ignore gems directory (not bitmoa-related)
    - /opt/bitmoa/fluentd/gems
version:
  bin_name: fluentd
  flag: --version
root_dir: /opt/bitmoa
