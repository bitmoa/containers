# Copyright Broadcom, Inc. All Rights Reserved.
# SPDX-License-Identifier: APACHE-2.0

group:
  gitea:
    exists: true 
user:   
  gitea:
    exists: true
file:
  /opt/bitmoa/gitea:     
    exists: true     
    mode: "0775"     
    owner: gitea     
    group: root
    filetype: directory
  /opt/bitmoa/gitea/bin/gitea:
    exists: true
    mode: "0775"
    filetype: file
  /opt/bitmoa/gitea/custom:
    exists: true
    mode: "0775"
    owner: gitea
    group: root
    filetype: directory
  /opt/bitmoa/gitea/data:
    exists: true
    mode: "0775"
    owner: gitea
    group: root
    filetype: directory
  /opt/bitmoa/gitea/tmp:
    exists: true
    mode: "0775"
    owner: gitea
    group: root
    filetype: directory
  /opt/bitmoa/gitea/tmp/log:
    exists: true
    mode: "0775"
    owner: gitea
    group: root
    filetype: directory
  /bitmoa/gitea:
    exists: true
    mode: "0775"
    owner: gitea
    group: root
    filetype: directory
  /opt/bitmoa/gitea/custom/conf/app.ini:
    exists: true
    mode: "0664"
    owner: gitea
    group: root
    filetype: file
command:
  check-app-run:
    exec: timeout --preserve-status 5 gitea web || true
    exit-status: 0
    stdout:
      - "/Starting.*Web.*server/"
